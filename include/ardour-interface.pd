#N canvas 1214 26 530 379 10;
#X obj 170 14 r \$0.from;
#X obj 170 63 print ARDOUR_MONITOR;
#X obj 170 37 spigot 0;
#X obj 243 39 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X text 340 14 format:;
#X obj 342 54 text define \$0.strips;
#N canvas 406 237 925 525 INIT 0;
#X obj 23 140 r \$0.to;
#X obj 23 355 s \$0.from;
#X obj 39 222 r \$0.connection;
#X obj 23 279 s \$0.connected;
#X obj 637 433 outlet;
#X obj 249 106 r \$0.from;
#X obj 22 16 r \$0.connected;
#X obj 637 234 r \$0.connected;
#X obj 637 257 sel 0;
#X msg 637 347 0;
#X obj 637 370 s \$0.ready;
#X obj 637 410 r \$0.ready;
#X msg 664 306 -1;
#X obj 664 329 text delete \$0.strips;
#X obj 637 283 t b b;
#X obj 22 85 s \$0.to;
#X obj 23 250 netsend -u -b;
#X obj 22 39 sel 1;
#X obj 23 305 route 35;
#X msg 395 275 \$1 name \$2;
#X msg 320 275 \$1 group \$2;
#X msg 249 275 \$1 hide \$2;
#X obj 249 305 t a;
#X obj 249 346 t a a, f 25;
#N canvas 872 739 449 447 stub 0;
#X obj 213 219 pack f s s 34;
#X msg 265 191 list 0 <unset> <unset> 0;
#X obj 186 101 t b a;
#X obj 186 258 list append;
#X obj 238 89 t a b;
#X obj 238 112 list trim;
#X obj 238 135 route group name hide;
#X obj 186 61 list split 1;
#X obj 238 161 symbol;
#X obj 284 161 symbol;
#X obj 25 394 text set \$0.strips;
#X obj 25 282 list append;
#X obj 25 308 t a a;
#X msg 52 332 \$1;
#X obj 25 8 inlet;
#X obj 25 32 t a a, f 25;
#X msg 25 55 \$1;
#X obj 25 102 sel -1;
#X obj 25 79 text search \$0.strips 0;
#X obj 52 358 - 1;
#X connect 0 0 3 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 11 1;
#X connect 4 0 5 0;
#X connect 4 1 1 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 9 0;
#X connect 6 2 0 3;
#X connect 7 0 2 0;
#X connect 7 1 4 0;
#X connect 8 0 0 1;
#X connect 9 0 0 2;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 12 1 13 0;
#X connect 13 0 19 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 7 0;
#X connect 16 0 18 0;
#X connect 17 0 11 0;
#X connect 18 0 17 0;
#X connect 19 0 10 1;
#X restore 249 371 pd stub;
#N canvas 964 181 705 576 update 0;
#X obj 44 6 inlet;
#X obj 141 178 list split 1;
#X obj 175 203 list trim;
#X obj 175 226 route group name hide;
#X obj 239 111 text search \$0.strips 0;
#X obj 239 141 sel -1;
#X obj 44 36 t b a a, f 33;
#X obj 44 168 sel -1;
#X obj 44 142 f;
#X obj 272 165 text get \$0.strips;
#X obj 272 192 unpack f s s f;
#X obj 152 326 pack f s s f;
#X obj 165 468 text delete \$0.strips;
#X obj 77 371 list append;
#X obj 138 445 t a a;
#X obj 77 494 text insert \$0.strips;
#X obj 175 250 symbol;
#X obj 220 249 symbol;
#X msg 239 62 \$1;
#X obj 77 213 t b b a;
#X obj 77 396 t a b;
#X obj 138 421 f;
#X obj 294 347 sel -;
#X obj 379 350 sel -;
#X obj 468 356 sel 0;
#X obj 239 85 t a a, f 35;
#X obj 321 412 list append;
#X obj 406 413 list append;
#X obj 496 412 list append;
#X msg 321 464 list group \$2 \$1;
#X msg 442 465 list name \$2 \$1;
#X msg 551 466 list show \$2 \$1;
#X msg 322 511 update \$2 \$1 \$3;
#X obj 322 534 s \$0.outlet;
#X connect 0 0 6 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 16 0;
#X connect 3 1 17 0;
#X connect 3 2 11 3;
#X connect 3 2 24 0;
#X connect 4 0 8 1;
#X connect 4 0 5 0;
#X connect 5 1 9 0;
#X connect 6 0 8 0;
#X connect 6 1 1 0;
#X connect 6 2 18 0;
#X connect 7 1 19 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 10 1 22 1;
#X connect 10 2 11 2;
#X connect 10 2 23 1;
#X connect 10 3 11 3;
#X connect 10 3 24 1;
#X connect 11 0 13 1;
#X connect 13 0 20 0;
#X connect 14 0 15 1;
#X connect 14 1 12 0;
#X connect 16 0 11 1;
#X connect 16 0 22 0;
#X connect 17 0 11 2;
#X connect 17 0 23 0;
#X connect 18 0 25 0;
#X connect 19 0 13 0;
#X connect 19 1 11 0;
#X connect 19 2 21 1;
#X connect 20 0 15 0;
#X connect 20 1 21 0;
#X connect 21 0 14 0;
#X connect 22 1 26 0;
#X connect 23 1 27 0;
#X connect 24 1 28 0;
#X connect 25 0 4 0;
#X connect 25 1 26 1;
#X connect 25 1 27 1;
#X connect 25 1 28 1;
#X connect 26 0 29 0;
#X connect 27 0 30 0;
#X connect 28 0 31 0;
#X connect 29 0 32 0;
#X connect 30 0 32 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X restore 396 370 pd update;
#X obj 23 195 oscformat;
#X obj 23 333 oscparse;
#X obj 249 155 route strip;
#X obj 249 179 route hide group name;
#X obj 249 129 list trim;
#X text 314 41 16: Enable master section feedback;
#X text 200 31 1: Audio tracks;
#X text 188 41 512: Hidden;
#X obj 636 13 r \$0.from;
#X obj 636 152 s \$0.ready;
#X obj 249 202 unpack f f;
#X obj 249 251 pack f f;
#X obj 294 229 == 0;
#X text 79 306 filter #reply;
#X text 320 21 1: Button status for strips;
#X text 320 31 8: Hearbeat;
#X msg 22 61 set set_surfacestrip_types \, 513 \, set set_surface feedback
\, 25, f 63;
#X obj 636 81 t b b;
#X msg 670 125 1;
#X msg 636 127 0;
#X obj 753 25 r \$0.connected;
#X obj 753 48 sel 0;
#X msg 753 75 stop;
#N canvas 1057 730 579 380 detect.response.end 0;
#X obj 346 229 route jog;
#X obj 346 252 route mode;
#X obj 346 275 route 0;
#X obj 346 207 list trim;
#X obj 346 298 b;
#X obj 23 225 list trim;
#X obj 23 248 route strip;
#X obj 23 200 r \$0.from;
#X obj 23 294 b;
#X obj 23 271 route bang;
#X obj 23 329 print HIDE;
#X obj 336 154 s \$0.to;
#X obj 346 182 r \$0.from;
#X msg 336 108 set set_surface feedback \, 25;
#X msg 352 130 set strip list \, bang;
#X obj 24 168 s \$0.to;
#X msg 24 141 set strip hide \, 3 1;
#X obj 346 330 print LIST;
#X text 49 24 Certain message trigger a response from ardour that takes
quite some time. In order not to overload it \, those snippets detect
the end of each response for the respective request.;
#X text 150 141 response only on change;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 9 0 8 0;
#X connect 12 0 3 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 16 0 15 0;
#X restore 40 425 pd detect.response.end;
#N canvas 630 70 521 519 buffer 0;
#X obj 200 105 inlet;
#X obj 32 481 outlet;
#X text 95 10 Certain ardour responses are slow. That's why we slowly
send messages to ardour one after another with a delay between. A full
'/strip/list' response takes ~60ms \, that's why set the dealy to 100ms.
Probably \, with larger sessions \, the response is longer and likely
takes more time. This is not a clean solution \, but one that is not
too complicated to implement.;
#X obj 32 294 fifo, f 16;
#X obj 200 222 t b a;
#X msg 200 246 1;
#X msg 152 371 0;
#X obj 32 160 change 0;
#X obj 125 324 del 1000;
#X obj 125 347 t b b;
#X obj 32 186 metro 100;
#X obj 152 397 s \$0.buffer.metro;
#X obj 200 273 s \$0.buufer.metro;
#X obj 32 137 r \$0.buufer.metro;
#X obj 125 492 outlet;
#X connect 0 0 4 0;
#X connect 3 0 1 0;
#X connect 3 1 8 0;
#X connect 4 0 5 0;
#X connect 4 1 3 1;
#X connect 5 0 12 0;
#X connect 6 0 11 0;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 9 1 6 0;
#X connect 10 0 3 0;
#X connect 13 0 7 0;
#X restore 23 167 pd buffer;
#X obj 636 104 del 2000;
#X connect 0 0 50 0;
#X connect 2 0 16 0;
#X connect 5 0 30 0;
#X connect 6 0 17 0;
#X connect 7 0 8 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 14 0 9 0;
#X connect 14 1 12 0;
#X connect 16 0 3 0;
#X connect 16 1 18 0;
#X connect 17 0 42 0;
#X connect 18 1 27 0;
#X connect 19 0 22 0;
#X connect 20 0 22 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
#X connect 26 0 16 0;
#X connect 27 0 1 0;
#X connect 28 0 29 0;
#X connect 29 0 36 0;
#X connect 29 1 20 0;
#X connect 29 2 19 0;
#X connect 30 0 28 0;
#X connect 34 0 43 0;
#X connect 36 0 37 0;
#X connect 36 1 38 0;
#X connect 37 0 21 0;
#X connect 38 0 37 1;
#X connect 42 0 15 0;
#X connect 43 0 51 0;
#X connect 43 1 44 0;
#X connect 44 0 35 0;
#X connect 45 0 35 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 48 0 51 0;
#X connect 50 0 26 0;
#X connect 51 0 45 0;
#X restore 174 103 pd INIT;
#X text 341 31 <ssid> <group> <name> <hide>;
#X obj 12 13 inlet;
#X obj 12 36 s \$0.inlet;
#X obj 80 15 r \$0.outlet;
#X obj 80 36 outlet;
#X obj 174 131 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 1094 258 466 345 connect 0;
#X obj 12 16 r \$0.inlet;
#X obj 12 39 route connect;
#X msg 58 264 connect localhost 3819;
#X msg 12 238 disconnect;
#X obj 12 292 s \$0.connection;
#X obj 12 93 sel 0 1;
#X obj 191 19 r \$0.ready;
#X msg 191 69 ready \$1;
#X obj 191 92 s \$0.outlet;
#X obj 191 42 change -1;
#X obj 189 198 del 0;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X restore 26 96 pd connect;
#N canvas 1330 294 395 195 session_name 0;
#X obj 13 11 r \$0.from;
#X obj 13 34 list trim;
#X obj 13 57 route session_name;
#X obj 13 80 list;
#X msg 13 103 session_name \$1;
#X obj 13 126 s \$0.outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 26 118 pd session_name;
#N canvas 1309 515 459 411 list_groups 0;
#X obj 18 176 t a b;
#X msg 63 177 -1;
#X obj 18 225 route bang;
#X obj 18 93 until;
#X obj 18 116 f;
#X obj 18 139 t a a;
#X obj 58 125 + 1;
#X msg 58 94 0;
#X obj 75 300 sel °ö;
#X obj 165 300 t a;
#X obj 18 70 t b b b, f 14;
#X msg 185 266 symbol °ö;
#X text 245 267 <- unlikely symbol;
#X obj 18 24 r \$0.inlet;
#X obj 18 202 text get \$0.strips;
#X obj 108 356 s \$0.outlet;
#X obj 18 47 route list_groups;
#X msg 75 253 symbol \$2;
#X msg 108 330 group \$1;
#X connect 0 0 14 0;
#X connect 0 1 1 0;
#X connect 1 0 14 1;
#X connect 2 0 3 1;
#X connect 2 1 17 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 1 9 0;
#X connect 8 1 18 0;
#X connect 9 0 8 1;
#X connect 10 0 3 0;
#X connect 10 1 7 0;
#X connect 10 2 11 0;
#X connect 11 0 8 1;
#X connect 13 0 16 0;
#X connect 14 0 2 0;
#X connect 16 0 10 0;
#X connect 17 0 8 0;
#X connect 18 0 15 0;
#X restore 26 140 pd list_groups;
#N canvas 1309 515 465 380 list_strips_of_group 0;
#X obj 18 176 t a b;
#X msg 63 177 -1;
#X obj 18 225 route bang;
#X obj 18 93 until;
#X obj 18 116 f;
#X obj 18 139 t a a;
#X obj 58 125 + 1;
#X msg 58 94 0;
#X obj 18 24 r \$0.inlet;
#X obj 18 202 text get \$0.strips;
#X obj 76 304 s \$0.outlet;
#X obj 18 46 route list_strips_of_group;
#X obj 18 70 t b b a b, f 21;
#X obj 75 271 route _;
#X obj 106 145 list;
#X msg 75 248 \$2 strip \$1 \$2 \$3 \$4;
#X connect 0 0 9 0;
#X connect 0 1 1 0;
#X connect 1 0 9 1;
#X connect 2 0 3 1;
#X connect 2 1 15 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 11 0;
#X connect 9 0 2 0;
#X connect 11 0 12 0;
#X connect 12 0 3 0;
#X connect 12 1 7 0;
#X connect 12 2 14 0;
#X connect 13 0 10 0;
#X connect 14 0 13 1;
#X connect 15 0 13 0;
#X restore 26 163 pd list_strips_of_group;
#N canvas 1309 515 443 385 list_strips 0;
#X obj 18 176 t a b;
#X msg 63 177 -1;
#X obj 18 225 route bang;
#X obj 18 93 until;
#X obj 18 116 f;
#X obj 18 139 t a a;
#X obj 58 125 + 1;
#X msg 58 94 0;
#X obj 18 24 r \$0.inlet;
#X obj 18 202 text get \$0.strips;
#X obj 75 282 s \$0.outlet;
#X obj 18 70 t b b a b, f 21;
#X msg 75 252 strip \$1 \$2 \$3 \$4;
#X obj 18 46 route list_strips;
#X connect 0 0 9 0;
#X connect 0 1 1 0;
#X connect 1 0 9 1;
#X connect 2 0 3 1;
#X connect 2 1 12 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 13 0;
#X connect 9 0 2 0;
#X connect 11 0 3 0;
#X connect 11 1 7 0;
#X connect 12 0 10 0;
#X connect 13 0 11 0;
#X restore 26 187 pd list_strips;
#N canvas 1309 515 385 164 rename_strip 0;
#X obj 18 24 r \$0.inlet;
#X obj 17 97 s \$0.to;
#X obj 18 46 route rename_strip;
#X msg 17 71 set strip name \, \$1 \$2;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 26 210 pd rename_strip;
#N canvas 1309 515 394 215 show_strip 0;
#X obj 18 24 r \$0.inlet;
#X obj 18 168 s \$0.to;
#X obj 18 46 route show_strip;
#X obj 18 68 unpack f f;
#X obj 18 117 pack f f;
#X obj 63 95 == 0;
#X msg 18 142 set strip hide \, \$1 \$2;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 1 0;
#X restore 26 234 pd show_strip;
#N canvas 1309 515 582 402 rename_group 0;
#X obj 18 24 r \$0.inlet;
#X obj 199 365 s \$0.to;
#X obj 18 45 route rename_group;
#X msg 199 251 set strip group \, \$1 \$2 \, set strip list \, bang
;
#X obj 18 68 t b a a, f 17;
#N canvas 1177 238 327 296 get_strips 0;
#X obj 18 145 t a b;
#X msg 63 146 -1;
#X obj 18 194 route bang;
#X obj 18 62 until;
#X obj 18 85 f;
#X obj 18 108 t a a;
#X obj 58 94 + 1;
#X msg 58 63 0;
#X obj 18 171 text get \$0.strips;
#X obj 18 39 t b b a b, f 21;
#X obj 75 240 route _;
#X obj 113 111 list;
#X obj 18 11 inlet;
#X obj 75 263 outlet;
#X msg 75 217 \$2 \$1 \$4;
#X connect 0 0 8 0;
#X connect 0 1 1 0;
#X connect 1 0 8 1;
#X connect 2 0 3 1;
#X connect 2 1 14 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 2 0;
#X connect 9 0 3 0;
#X connect 9 1 7 0;
#X connect 9 2 11 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 14 0 10 0;
#X restore 117 117 pd get_strips;
#N canvas 1543 839 408 191 get_group 0;
#X obj 13 16 inlet;
#X obj 46 112 text get \$0.strips;
#X obj 13 62 text search \$0.strips 0;
#X obj 13 85 sel -1;
#X msg 13 39 \$1;
#X msg 46 137 symbol \$2;
#X obj 46 160 outlet;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X restore 117 92 pd get_group;
#X msg 117 144 append \$1 \$2;
#X obj 45 173 list store;
#X obj 18 122 t b b;
#N canvas 806 91 402 279 list_serialize 0;
#X obj 39 86 until, f 17;
#X obj 39 213 list store, f 17;
#X obj 39 134 f;
#X msg 67 109 0, f 5;
#X obj 39 159 pack f f, f 24;
#X obj 39 60 t b b a, f 10;
#X obj 39 33 inlet;
#X obj 39 236 outlet;
#X obj 78 135 + 2;
#X msg 39 185 get \$1 2;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 1 1 0 1;
#X connect 2 0 4 0;
#X connect 2 0 8 0;
#X connect 3 0 2 1;
#X connect 4 0 9 0;
#X connect 5 0 0 0;
#X connect 5 1 3 0;
#X connect 5 2 1 1;
#X connect 6 0 5 0;
#X connect 8 0 2 1;
#X connect 9 0 1 0;
#X restore 45 197 pd list_serialize;
#X obj 45 220 unpack f f;
#X obj 102 242 == 0;
#X obj 45 271 pack f f;
#X msg 45 297 set strip hide \, \$1 \$2;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 9 0;
#X connect 4 1 3 0;
#X connect 4 2 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 9 1 8 0;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 11 1 12 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X restore 26 258 pd rename_group;
#N canvas 1309 515 424 269 get_strip 0;
#X obj 18 24 r \$0.inlet;
#X obj 51 131 text get \$0.strips;
#X obj 18 81 text search \$0.strips 0;
#X obj 18 104 sel -1;
#X msg 51 154 strip \$1 \$2 \$3 \$4;
#X obj 18 182 s \$0.outlet;
#X obj 18 46 route get_strip;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 1 0;
#X connect 4 0 5 0;
#X connect 6 0 2 0;
#X restore 26 281 pd get_strip;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 6 0 12 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
