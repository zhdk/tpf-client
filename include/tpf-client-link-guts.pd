#N canvas 0 106 450 300 10;
#N canvas 247 142 448 324 get.peer.data 0;
#X obj 21 110 sel -1;
#X msg 21 242 peer data access failed;
#X obj 54 131 text get \$1.clients;
#X obj 54 151 unpack f s f s;
#X obj 108 196 s \$3.peer.master;
#X obj 135 173 s \$3.peer.ip;
#X obj 21 15 r \$3.peer.ready;
#X obj 21 38 sel 1;
#X obj 21 61 symbol;
#X obj 71 63 r \$3.peer.name;
#X obj 54 219 s \$3.peer.id;
#X obj 21 262 s \$1.error;
#X obj 21 90 text search \$1.clients 1;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 3 2 4 0;
#X connect 3 3 5 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 12 0;
#X connect 9 0 8 1;
#X connect 12 0 0 0;
#X restore 13 36 pd get.peer.data;
#N canvas 277 523 1094 427 gui.code 0;
#X obj 744 19 r \$3.reset;
#X obj 811 18 r \$3.peer.ready;
#X obj 811 38 sel 0;
#X obj 744 60 s \$3.display.reset;
#X obj 196 249 s \$3.glitch.label;
#X obj 227 269 s \$3.ooo.label;
#X obj 201 160 r \$3.display.reset;
#X msg 201 180 label empty;
#X obj 334 18 r \$3.jacktrip.stats;
#X obj 334 38 route dropped_count;
#X obj 334 60 makefilename %4d;
#X msg 334 80 label \$1;
#X obj 334 100 s \$3.dropped.label;
#X obj 173 228 s \$3.dropped.label;
#X msg 514 178 0;
#X obj 464 18 r \$3.jacktrip.stats;
#X obj 464 60 makefilename %4d;
#X msg 464 80 label \$1;
#X obj 594 18 r \$3.jacktrip.stats;
#X obj 594 60 makefilename %4d;
#X msg 594 80 label \$1;
#X obj 464 38 route glitch_count;
#X obj 464 100 s \$3.glitch.label;
#X obj 594 38 route ooo_count;
#X obj 594 100 s \$3.ooo.label;
#X obj 591 210 r \$3.from.jacktrip;
#X obj 591 230 route STATISTICS;
#X obj 591 250 s \$3.jacktrip.stats;
#X obj 360 183 r \$3.from.jacktrip;
#X obj 360 203 route STATUS;
#X obj 360 223 route inchannels;
#X obj 360 243 makefilename %4d;
#X msg 360 263 label \$1;
#X obj 360 283 s \$3.channels.label;
#X obj 240 289 s \$3.channels.label;
#N canvas 653 155 942 740 tx.button 0;
#X obj 47 429 s \$3.tx.switch.r;
#X msg 47 400 color \$1 \$2 \$3;
#X msg 47 348 0 0 0;
#X text 599 47 0 = reset;
#X obj 183 189 sel 1;
#X msg 183 210 1;
#X msg 212 210 0;
#X obj 158 278 spigot;
#X obj 158 163 r \$3.blink.clock;
#X obj 158 299 sel 0 1;
#X msg 322 210 0;
#X obj 268 278 spigot;
#X obj 268 163 r \$3.blink.clock;
#X obj 268 299 sel 0 1;
#X msg 293 210 1;
#X obj 293 189 sel 2;
#X text 600 125 4 = aborted;
#X obj 47 60 r \$3.udp.link.status;
#X obj 242 41 r \$3.display.reset;
#X text 599 67 1 = waiting for peer (stun);
#X text 599 87 2 = waiting for user (stun);
#X text 601 108 3 = connected (stun);
#X text 600 146 5 = waiting for peer (server);
#X text 601 165 6 = waiting for user (server);
#X text 601 186 7 = connected (server);
#X obj 47 88 t a a a a a;
#X obj 47 136 select 0 3 4 7;
#X msg 226 354 224 224 224;
#X msg 95 350 128 0 255;
#X msg 308 356 0 0 255;
#X msg 442 210 0;
#X obj 388 278 spigot;
#X obj 388 163 r \$3.blink.clock;
#X obj 388 299 sel 0 1;
#X msg 413 210 1;
#X msg 545 210 0;
#X obj 491 278 spigot;
#X obj 491 163 r \$3.blink.clock;
#X obj 491 299 sel 0 1;
#X msg 516 210 1;
#X obj 413 189 sel 5;
#X obj 516 189 sel 6;
#X msg 155 350 0 255 0;
#X msg 367 356 255 255 0;
#X obj 603 363 r \$3.tx.switch.s;
#X obj 631 386 r \$3.udp.link.status;
#X obj 603 386 f;
#X obj 603 409 sel 0;
#X obj 603 647 del 300;
#X msg 641 622 stop;
#X obj 603 532 f;
#X obj 688 538 + 1;
#X obj 603 554 t a a;
#X obj 603 578 sel 0 1;
#X obj 622 600 t b b b;
#X msg 707 575 0;
#X obj 603 668 t b b;
#X obj 672 670 s \$3.initiate.stun;
#X obj 603 697 s \$3.initiate.server;
#X obj 630 435 r \$3.peer.ready;
#X obj 603 435 f;
#X obj 603 457 sel 1;
#X obj 176 235 t a a;
#X obj 413 231 t a a;
#X obj 603 485 f;
#X obj 603 507 sel 1;
#X obj 664 463 r \$1.intercom;
#X obj 664 486 route param_check;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 62 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 9 1 28 0;
#X connect 10 0 11 1;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 13 0 2 0;
#X connect 13 1 42 0;
#X connect 14 0 11 1;
#X connect 15 0 14 0;
#X connect 15 1 10 0;
#X connect 17 0 25 0;
#X connect 18 0 2 0;
#X connect 25 0 26 0;
#X connect 25 1 4 0;
#X connect 25 2 15 0;
#X connect 25 3 40 0;
#X connect 25 4 41 0;
#X connect 26 0 2 0;
#X connect 26 1 28 0;
#X connect 26 2 27 0;
#X connect 26 3 29 0;
#X connect 27 0 1 0;
#X connect 28 0 1 0;
#X connect 29 0 1 0;
#X connect 30 0 31 1;
#X connect 31 0 33 0;
#X connect 32 0 31 0;
#X connect 33 0 2 0;
#X connect 33 1 29 0;
#X connect 34 0 63 0;
#X connect 35 0 36 1;
#X connect 36 0 38 0;
#X connect 37 0 36 0;
#X connect 38 0 2 0;
#X connect 38 1 43 0;
#X connect 39 0 36 1;
#X connect 40 0 34 0;
#X connect 40 1 30 0;
#X connect 41 0 39 0;
#X connect 41 1 35 0;
#X connect 42 0 1 0;
#X connect 43 0 1 0;
#X connect 44 0 46 0;
#X connect 45 0 46 1;
#X connect 46 0 47 0;
#X connect 47 0 60 0;
#X connect 48 0 56 0;
#X connect 49 0 48 0;
#X connect 50 0 52 0;
#X connect 51 0 50 1;
#X connect 52 0 53 0;
#X connect 52 1 51 0;
#X connect 53 0 48 0;
#X connect 53 0 29 0;
#X connect 53 1 54 0;
#X connect 54 0 57 0;
#X connect 54 1 49 0;
#X connect 54 2 55 0;
#X connect 55 0 50 1;
#X connect 56 0 58 0;
#X connect 56 1 55 0;
#X connect 59 0 60 1;
#X connect 60 0 61 0;
#X connect 61 0 64 0;
#X connect 62 0 7 0;
#X connect 62 1 7 1;
#X connect 63 0 31 0;
#X connect 63 1 31 1;
#X connect 64 0 65 0;
#X connect 65 0 50 0;
#X connect 66 0 67 0;
#X connect 67 0 64 1;
#X restore 15 73 pd tx.button;
#X obj 805 138 metro 500;
#X obj 805 159 == 0;
#X obj 805 180 t a a;
#X obj 805 110 loadbang;
#X obj 805 204 s \$3.blink.clock;
#X obj 514 127 r \$3.udp.link.status;
#X obj 514 148 sel 3;
#X obj 446 334 r \$3.from.jacktrip;
#X obj 446 354 route STATUS;
#X obj 446 375 route receiving;
#N canvas 625 406 491 361 rx.button 0;
#X obj 16 14 r \$3.from.jacktrip;
#X obj 16 34 route STATUS;
#X obj 16 55 route receiving;
#X obj 16 76 sel 0 1;
#X obj 16 269 s \$3.rx.switch.r;
#X msg 16 246 color \$1 \$2 \$3;
#X obj 278 141 r \$3.display.reset;
#X msg 278 190 0 0 0;
#X obj 296 163 loadbang;
#X obj 31 103 r \$3.udp.link.status;
#X obj 16 128 f;
#X obj 16 155 sel 0;
#X obj 86 140 sel 0;
#X msg 16 190 224 224 224;
#X obj 147 188 list append;
#X msg 167 108 128 0 255;
#X obj 167 55 r \$3.udp.link.status;
#X obj 167 80 sel 3 7;
#X msg 239 112 0 0 255;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 3 1 14 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 7 0;
#X connect 9 0 10 1;
#X connect 9 0 12 0;
#X connect 10 0 11 0;
#X connect 11 1 13 0;
#X connect 12 0 7 0;
#X connect 13 0 5 0;
#X connect 14 0 5 0;
#X connect 15 0 14 1;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 17 1 18 0;
#X connect 18 0 14 1;
#X restore 15 99 pd rx.button;
#N canvas 347 761 450 300 delay.nb 0;
#X obj 45 170 s \$3.delay.nb.r;
#X msg 45 144 color -1 \$1 -1;
#X msg 45 72 -1;
#X msg 81 76 0;
#X obj 45 17 r \$3.peer.ready;
#X obj 45 38 sel 0 1;
#X obj 81 97 t a a;
#X obj 228 74 s \$3.delay;
#X obj 228 44 r \$3.delay.nb.s;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 6 0 1 0;
#X connect 6 1 0 0;
#X connect 8 0 7 0;
#X restore 14 124 pd delay.nb;
#N canvas 0 106 431 345 peer.name 0;
#X obj 11 74 s \$3.client.label;
#X msg 11 46 label \$1;
#X obj 11 22 r \$3.peer.name;
#X obj 12 105 r \$3.peer.ready;
#X obj 12 128 sel 0 1;
#X obj 12 207 s \$3.client.label;
#X msg 12 179 color -1 -1 \$1;
#X msg 12 153 1;
#X msg 51 155 0;
#X msg 127 41 label empty;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 8 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 0 0;
#X restore 17 18 pd peer.name;
#N canvas 428 518 477 324 arrow.up.down 0;
#X obj 12 16 r \$3.arrow.up;
#X obj 12 39 sel 0;
#X obj 54 40 t a;
#X obj 250 289 s \$3.arrow.up.r;
#X msg 250 249 color -1 -1 \$1;
#X msg 250 221 12;
#X msg 281 220 1;
#X obj 223 32 r \$3.peer.name;
#X obj 223 55 select empty;
#X msg 223 78 0;
#X msg 292 78 1;
#X obj 330 31 r \$3.udp.link.status;
#X obj 330 57 == 0;
#X obj 223 147 &&;
#X obj 330 91 t b a;
#X obj 223 103 t a;
#X obj 250 195 sel 0 1;
#X obj 12 63 f \$2;
#X obj 12 86 - 1;
#X obj 100 238 s \$3.swap.request;
#X obj 100 40 sel 0;
#X obj 142 41 t a;
#X obj 100 64 f \$2;
#X obj 100 17 r \$3.arrow.down;
#X obj 100 87 + 1;
#X obj 352 289 s \$3.arrow.down.r;
#X obj 223 170 t a a;
#X obj 100 148 spigot;
#X connect 0 0 1 0;
#X connect 1 0 17 0;
#X connect 1 1 2 0;
#X connect 2 0 1 1;
#X connect 4 0 3 0;
#X connect 4 0 25 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 15 0;
#X connect 10 0 15 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 26 0;
#X connect 14 0 13 0;
#X connect 14 1 13 1;
#X connect 15 0 13 0;
#X connect 16 0 5 0;
#X connect 16 1 6 0;
#X connect 17 0 18 0;
#X connect 18 0 27 0;
#X connect 20 0 22 0;
#X connect 20 1 21 0;
#X connect 21 0 20 1;
#X connect 22 0 24 0;
#X connect 23 0 20 0;
#X connect 24 0 27 0;
#X connect 26 0 27 1;
#X connect 26 1 16 0;
#X connect 27 0 19 0;
#X restore 16 46 pd arrow.up.down;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 7 0 5 0;
#X connect 7 0 13 0;
#X connect 7 0 34 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 14 0 10 0;
#X connect 14 0 16 0;
#X connect 14 0 19 0;
#X connect 14 0 31 0;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 22 0;
#X connect 18 0 23 0;
#X connect 19 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 16 0;
#X connect 23 0 19 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 40 0;
#X connect 38 1 37 1;
#X connect 39 0 36 0;
#X connect 41 0 42 0;
#X connect 42 0 14 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X restore 13 132 pd gui.code;
#N canvas 148 299 855 665 jacktrip.start.stop 0;
#X obj 93 56 r \$3.peer.port;
#X obj 25 117 pack f f;
#X obj 93 77 r \$3.bind.port;
#X obj 25 137 list prepend;
#X obj 25 575 s \$3.to.jacktrip;
#X obj 364 249 s \$3.to.jacktrip;
#X obj 315 131 r \$3.peer.ready;
#X obj 315 153 sel 0;
#X msg 364 219 stop;
#X obj 533 129 r \$3.from.jacktrip;
#X obj 533 149 route STATUS;
#X obj 315 174 f;
#X obj 25 96 f;
#X obj 315 196 sel 1;
#X obj 428 30 r \$1.queue;
#X obj 324 33 r \$1.channels;
#X obj 496 29 r \$1.blocksize;
#X msg 324 53 outchannels \$1;
#X msg 428 50 queue \$1;
#X obj 324 83 s \$3.to.jacktrip;
#X msg 25 524 start;
#X msg 496 49 blocksize \$1;
#X obj 25 20 r \$3.udp.link.status;
#X msg 72 525 server \$1 \, peerport \$2 \, bindport \$3;
#X obj 533 268 s \$3.udp.link.status;
#X obj 533 215 sel 0;
#X msg 533 240 4;
#X obj 25 483 t b a;
#X text 67 483 peer ip \, peer port \, bind port \, server port;
#X obj 352 301 r \$3.tx.switch.s;
#X obj 380 324 r \$3.udp.link.status;
#X obj 352 324 f;
#X obj 576 541 s \$3.to.jacktrip;
#X msg 576 522 stop;
#X obj 549 608 s \$3.udp.link.status;
#X msg 549 586 0;
#X obj 549 500 t b b;
#X obj 352 381 t b b;
#X obj 352 586 s \$1.send;
#X obj 352 519 f;
#X obj 352 540 pack f f;
#X msg 594 401 set /\$1;
#X obj 575 315 r \$1.receive;
#X obj 575 422 routeOSC /__;
#X obj 575 339 routeOSC /*;
#X msg 352 562 /\$1/tpf/requeststop/\$2;
#X obj 575 359 routeOSC /tpf/requeststop;
#X obj 552 189 tgl 20 0 empty empty empty 17 7 0 10 -204786 -1 -1 0
1;
#X obj 549 565 del 0;
#X obj 533 169 route connected;
#X obj 93 97 r \$3.peer.host;
#X obj 25 41 sel 3 7;
#X obj 25 72 b;
#X obj 352 347 sel 1 3 4 5 7;
#X obj 25 198 t a a;
#X obj 52 380 s \$1.info;
#X obj 52 247 t a a;
#X obj 67 316 list append;
#X obj 170 223 change 0;
#X obj 170 250 sel 0;
#X obj 367 497 r \$3.peer.id;
#X obj 397 517 r \$1.id;
#X obj 594 380 r \$3.peer.id;
#X obj 315 273 s \$3.udp.link.status;
#X msg 315 245 0;
#X obj 315 219 t b b;
#X obj 52 223 list append;
#X obj 77 195 r \$3.peer.name;
#X msg 52 276 connected localhost:\$3 => \$1:\$2 (\$4);
#X msg 67 339 disconnected localhost:\$3 => \$1:\$2 (\$4);
#X connect 0 0 12 1;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 54 0;
#X connect 6 0 7 0;
#X connect 7 0 11 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 49 0;
#X connect 11 0 13 0;
#X connect 12 0 1 0;
#X connect 13 0 65 0;
#X connect 14 0 18 0;
#X connect 15 0 17 0;
#X connect 16 0 21 0;
#X connect 17 0 19 0;
#X connect 18 0 19 0;
#X connect 20 0 4 0;
#X connect 21 0 19 0;
#X connect 22 0 51 0;
#X connect 23 0 4 0;
#X connect 25 0 26 0;
#X connect 26 0 24 0;
#X connect 27 0 20 0;
#X connect 27 1 23 0;
#X connect 29 0 31 0;
#X connect 30 0 31 1;
#X connect 31 0 53 0;
#X connect 33 0 32 0;
#X connect 35 0 34 0;
#X connect 36 0 48 0;
#X connect 36 1 33 0;
#X connect 37 0 39 0;
#X connect 37 1 36 0;
#X connect 39 0 40 0;
#X connect 40 0 45 0;
#X connect 41 0 43 0;
#X connect 42 0 44 0;
#X connect 43 0 36 0;
#X connect 44 0 46 0;
#X connect 45 0 38 0;
#X connect 46 0 43 0;
#X connect 48 0 35 0;
#X connect 49 0 11 1;
#X connect 49 0 25 0;
#X connect 49 0 47 0;
#X connect 49 0 58 0;
#X connect 50 0 3 1;
#X connect 51 0 52 0;
#X connect 51 1 52 0;
#X connect 52 0 12 0;
#X connect 53 0 37 0;
#X connect 53 1 37 0;
#X connect 53 2 37 0;
#X connect 53 3 37 0;
#X connect 53 4 37 0;
#X connect 54 0 27 0;
#X connect 54 1 66 0;
#X connect 56 0 68 0;
#X connect 56 1 57 1;
#X connect 57 0 69 0;
#X connect 58 0 59 0;
#X connect 59 0 57 0;
#X connect 60 0 39 1;
#X connect 61 0 40 1;
#X connect 62 0 41 0;
#X connect 64 0 63 0;
#X connect 65 0 64 0;
#X connect 65 1 8 0;
#X connect 66 0 56 0;
#X connect 67 0 66 1;
#X connect 68 0 55 0;
#X connect 69 0 55 0;
#X restore 13 108 pd jacktrip.start.stop;
#N canvas 353 200 1015 693 peer.assignment 0;
#X obj 146 47 r \$1.intercom;
#X obj 146 74 route refresh_peers;
#X obj 146 97 sel \$2;
#X obj 146 165 f \$2;
#X obj 146 188 + 1;
#X obj 146 235 s \$1.intercom;
#X msg 146 211 refresh_peers \$1;
#X obj 8 50 loadbang;
#X msg 8 73 symbol empty;
#X text 142 15 === refresh peers ===;
#X text 320 15 === persist my assignment ===;
#X text 7 15 === init peer ===;
#X obj 330 41 r \$1.intercom;
#X obj 330 64 route get_link_owner;
#X obj 330 87 list;
#X obj 330 111 select dummy;
#X obj 330 138 f \$2;
#X obj 330 189 s \$1.intercom;
#N canvas 830 350 450 334 grab.one 0;
#X obj 17 11 inlet;
#X obj 17 132 text search \$1.clients 4;
#X obj 17 59 symbol;
#X text 110 81 grab one only \, if none is set yet;
#X msg 17 107 -1;
#X text 46 108 -1 = unassigned;
#X obj 17 157 sel -1;
#X obj 50 214 text get \$1.clients 1 1;
#X obj 50 35 r \$3.peer.name;
#X obj 50 238 s \$3.peer.name;
#X obj 203 260 text set \$1.clients 0 4;
#X obj 203 213 list prepend \$2;
#X obj 50 183 t a a, f 26;
#X obj 17 82 select empty;
#X obj 203 236 unpack f f;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 13 0;
#X connect 4 0 1 0;
#X connect 6 1 12 0;
#X connect 7 0 9 0;
#X connect 8 0 2 1;
#X connect 11 0 14 0;
#X connect 12 0 7 0;
#X connect 12 1 11 0;
#X connect 13 0 4 0;
#X connect 14 0 10 0;
#X connect 14 1 10 1;
#X restore 221 146 pd grab.one;
#X obj 8 96 s \$3.peer.name;
#X obj 411 112 r \$3.peer.name;
#X msg 330 166 set_link_owner \$1;
#X obj 146 120 t b b b, f 13;
#N canvas 596 493 450 300 peer.readyness 0;
#X obj 15 11 inlet;
#X obj 48 35 r \$3.peer.name;
#X obj 15 62 symbol;
#X obj 15 88 text search \$1.clients 1;
#X obj 15 111 sel -1;
#X msg 48 167 1;
#X msg 15 166 0;
#X obj 15 207 s \$3.peer.ready;
#X obj 80 125 loadbang;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X restore 183 180 pd peer.readyness;
#X obj 600 45 r \$3.swap.request;
#X obj 600 95 pack f s \$2;
#X obj 631 67 r \$3.peer.name;
#X msg 600 118 peer_swap_request \$1 \$2 \$3;
#X text 770 117 dst peername src;
#X obj 600 141 s \$1.intercom;
#X text 593 16 === swap peer link ===;
#X text 725 45 ----- REQUEST ---------;
#X obj 601 174 r \$1.intercom;
#X obj 601 197 route peer_swap_request;
#X obj 601 257 route \$2;
#X obj 669 221 r \$3.udp.link.status;
#X obj 669 244 == 0;
#X obj 601 220 spigot;
#X msg 670 372 peer_swap_response \$1 \$2;
#X msg 670 326 \$2;
#X obj 670 349 list append;
#X obj 733 326 r \$3.peer.name;
#X obj 670 395 s \$1.intercom;
#X text 715 174 ----- HANDLE REQUEST ---------;
#X text 713 305 ----- RESPONSE ---------;
#X text 822 372 dst peername;
#X obj 601 303 t b a a, f 12;
#X obj 635 441 s \$3.peer.name;
#X text 715 487 ----- HANDLE RESPONSE ---------;
#X msg 635 418 symbol \$1;
#X obj 601 280 list;
#X obj 601 490 r \$1.intercom;
#X obj 601 513 route peer_swap_response;
#X obj 601 536 route \$2;
#X obj 601 559 symbol;
#X obj 601 582 t b a;
#X obj 628 606 s \$3.peer.name;
#X obj 60 341 r \$3.peer.name;
#X obj 27 368 symbol;
#X obj 27 315 route fetch_settings;
#X obj 27 338 b;
#X obj 27 391 list prepend \$2;
#X msg 27 416 save_settings peer_name \$1 \$2;
#X obj 26 494 route restore_settings;
#X obj 26 517 route peer_name;
#X obj 26 540 route \$2;
#X obj 26 563 symbol;
#X obj 26 586 s \$3.peer.name;
#X obj 27 292 r \$1.intercom;
#X obj 27 442 s \$1.intercom;
#X obj 26 471 r \$1.intercom;
#X obj 289 390 r \$3.client.reset;
#X obj 289 419 sel 0;
#X obj 333 421 t a;
#X obj 289 445 t b b;
#X obj 289 497 del 300;
#X obj 316 474 f;
#X obj 357 475 + 1;
#X msg 331 453 0;
#X obj 316 525 sel 1;
#X obj 316 547 t b b;
#X msg 316 611 symbol empty;
#X obj 316 634 s \$3.peer.name;
#X obj 387 515 r \$3.peer.ready;
#X obj 387 539 == 0;
#X obj 316 581 spigot 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 22 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 19 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 21 0;
#X connect 20 0 15 1;
#X connect 21 0 17 0;
#X connect 22 0 3 0;
#X connect 22 1 23 0;
#X connect 22 2 18 0;
#X connect 24 0 25 0;
#X connect 25 0 27 0;
#X connect 26 0 25 1;
#X connect 27 0 29 0;
#X connect 32 0 33 0;
#X connect 33 0 37 0;
#X connect 34 0 50 0;
#X connect 35 0 36 0;
#X connect 36 0 37 1;
#X connect 37 0 34 0;
#X connect 38 0 42 0;
#X connect 39 0 40 0;
#X connect 40 0 38 0;
#X connect 41 0 40 1;
#X connect 46 0 23 0;
#X connect 46 1 49 0;
#X connect 46 2 39 0;
#X connect 49 0 47 0;
#X connect 50 0 46 0;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 55 0 23 0;
#X connect 55 1 56 0;
#X connect 57 0 58 1;
#X connect 58 0 61 0;
#X connect 59 0 60 0;
#X connect 60 0 58 0;
#X connect 61 0 62 0;
#X connect 62 0 69 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 68 0 59 0;
#X connect 70 0 63 0;
#X connect 71 0 72 0;
#X connect 72 0 74 0;
#X connect 72 1 73 0;
#X connect 73 0 72 1;
#X connect 74 0 75 0;
#X connect 74 1 76 0;
#X connect 75 0 78 0;
#X connect 76 0 77 0;
#X connect 76 0 79 0;
#X connect 77 0 76 1;
#X connect 78 0 76 1;
#X connect 79 0 80 0;
#X connect 80 0 85 0;
#X connect 80 1 78 0;
#X connect 81 0 82 0;
#X connect 83 0 84 0;
#X connect 84 0 85 1;
#X connect 85 0 81 0;
#X restore 13 12 pd peer.assignment;
#N canvas 604 155 836 898 init.proxy.connection 0;
#X msg 351 133 set /\$1;
#X obj 424 112 r \$1.receive;
#X obj 424 179 routeOSC /__;
#X obj 424 136 routeOSC /*;
#X obj 80 187 s \$1.send;
#X obj 80 116 f;
#X obj 16 10 r \$3.initiate.server;
#X obj 424 156 routeOSC /tpf/requestproxyconnection;
#X obj 16 233 s \$3.udp.link.status;
#X obj 16 183 del 0;
#X obj 449 224 r \$3.udp.link.status;
#X obj 451 272 r \$3.peer.ready;
#X obj 424 224 f;
#X obj 424 247 sel 0 4;
#X obj 424 272 f;
#X obj 424 294 sel 1;
#X obj 424 337 s \$3.udp.link.status;
#X msg 16 205 5;
#X msg 424 316 6;
#X obj 357 369 r \$3.tx.switch.s;
#X obj 382 392 r \$3.udp.link.status;
#X obj 384 440 r \$3.peer.ready;
#X obj 357 392 f;
#X obj 357 440 f;
#X obj 357 462 sel 1;
#X obj 357 483 t b b;
#X obj 357 596 s \$3.udp.link.status;
#X obj 357 509 del 0;
#X obj 469 547 s \$1.send;
#X obj 469 481 f;
#X obj 469 502 pack f f;
#X msg 469 525 /\$1/tpf/startproxyconnection/\$2;
#X obj 357 415 sel 6;
#X msg 14 444 set /\$1;
#X obj 87 423 r \$1.receive;
#X obj 87 490 routeOSC /__;
#X obj 87 447 routeOSC /*;
#X obj 87 467 routeOSC /tpf/startproxyconnection;
#X msg 357 573 7;
#X obj 87 511 b;
#X obj 112 534 r \$3.udp.link.status;
#X obj 87 534 f;
#X obj 87 557 sel 5;
#X obj 114 578 r \$3.peer.ready;
#X obj 87 578 f;
#X obj 87 601 sel 1;
#X obj 87 775 s \$3.udp.link.status;
#X msg 87 753 7;
#X obj 534 779 s \$3.to.jacktrip;
#X obj 324 775 s \$3.peer.port;
#X obj 252 725 r \$1.host;
#X obj 219 749 symbol;
#X obj 219 775 s \$3.peer.host;
#X obj 219 633 t b b b b, f 53;
#X obj 87 622 t b b;
#X obj 357 530 t b b;
#X obj 138 116 r \$1.id;
#X obj 351 90 r \$3.peer.id;
#X obj 14 397 r \$3.peer.id;
#X obj 95 94 r \$3.peer.id;
#X obj 484 450 r \$3.peer.id;
#X obj 514 479 r \$1.id;
#X obj 339 726 r \$1.audioport;
#X obj 324 751 f;
#X msg 534 756 enabletoken \$1;
#X obj 429 668 s \$3.set.random.bind.port;
#X obj 534 720 symbol;
#X obj 567 696 r \$3.connection.token;
#X obj 80 139 pack f f s, f 20;
#X msg 80 163 /\$1/tpf/requestproxyconnection/\$2 \$3;
#X obj 16 31 t b b b, f 22;
#X obj 197 77 token-generator 20;
#X obj 197 100 t a a;
#X obj 210 126 s \$3.connection.token;
#X obj 546 180 symbol;
#X obj 546 203 s \$3.connection.token;
#X obj 424 203 t b a;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 76 0;
#X connect 3 0 7 0;
#X connect 5 0 68 0;
#X connect 6 0 70 0;
#X connect 7 0 2 0;
#X connect 9 0 17 0;
#X connect 10 0 12 1;
#X connect 11 0 14 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 14 0;
#X connect 14 0 15 0;
#X connect 15 0 18 0;
#X connect 17 0 8 0;
#X connect 18 0 16 0;
#X connect 19 0 22 0;
#X connect 20 0 22 1;
#X connect 21 0 23 1;
#X connect 22 0 32 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 27 0;
#X connect 25 1 29 0;
#X connect 27 0 55 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 28 0;
#X connect 32 0 23 0;
#X connect 33 0 35 0;
#X connect 34 0 36 0;
#X connect 35 0 39 0;
#X connect 36 0 37 0;
#X connect 37 0 35 0;
#X connect 38 0 26 0;
#X connect 39 0 41 0;
#X connect 40 0 41 1;
#X connect 41 0 42 0;
#X connect 42 0 44 0;
#X connect 43 0 44 1;
#X connect 44 0 45 0;
#X connect 45 0 54 0;
#X connect 47 0 46 0;
#X connect 50 0 51 1;
#X connect 51 0 52 0;
#X connect 53 0 51 0;
#X connect 53 1 63 0;
#X connect 53 2 65 0;
#X connect 53 3 66 0;
#X connect 54 0 47 0;
#X connect 54 1 53 0;
#X connect 55 0 38 0;
#X connect 55 1 53 0;
#X connect 56 0 68 1;
#X connect 57 0 0 0;
#X connect 58 0 33 0;
#X connect 59 0 5 1;
#X connect 60 0 29 1;
#X connect 61 0 30 1;
#X connect 62 0 63 1;
#X connect 63 0 49 0;
#X connect 64 0 48 0;
#X connect 66 0 64 0;
#X connect 67 0 66 1;
#X connect 68 0 69 0;
#X connect 69 0 4 0;
#X connect 70 0 9 0;
#X connect 70 1 5 0;
#X connect 70 2 71 0;
#X connect 71 0 72 0;
#X connect 72 0 68 2;
#X connect 72 1 73 0;
#X connect 74 0 75 0;
#X connect 76 0 12 0;
#X connect 76 1 74 0;
#X restore 13 84 pd init.proxy.connection;
#N canvas 584 208 821 759 init.stun.connection 0;
#X obj 10 34 r \$1.receive;
#X obj 10 78 routeOSC /tpf/setpeerport;
#X obj 10 112 routeOSC /__;
#X msg 147 41 set /\$1;
#X obj 37 155 s \$3.peer.port;
#X obj 371 24 r \$1.receive;
#X obj 371 91 routeOSC /__;
#X obj 371 68 routeOSC /tpf/requestpeerport;
#X obj 9 690 s \$1.send;
#X obj 49 531 f;
#X obj 49 552 pack f f;
#X obj 261 640 random 28232;
#X obj 261 660 + 32768;
#X obj 261 685 s \$3.bind.port;
#X obj 49 583 list append;
#X obj 112 562 r \$3.bind.port;
#X obj 371 115 b;
#X msg 49 653 /\$1/tpf/setpeerport/\$2 \$3;
#X obj 9 608 list append;
#X msg 9 630 /\$1/tpf/requestpeerport/\$2;
#X obj 10 58 routeOSC /*;
#X obj 371 48 routeOSC /*;
#N canvas 750 229 301 279 random.seed 0;
#X obj 35 24 loadbang;
#X obj 34 96 realtime;
#X obj 35 66 t b b b;
#X obj 121 128 until;
#X obj 121 148 234.235;
#X obj 121 168 pow 9.2348;
#X obj 34 116 * 1239.29;
#X obj 34 136 int;
#X obj 34 156 mod 9877;
#X obj 34 197 outlet;
#X msg 121 105 143726;
#X msg 34 177 seed \$1;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 2 1 10 0;
#X connect 2 2 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 10 0 3 0;
#X connect 11 0 9 0;
#X restore 286 616 pd random.seed;
#X obj 24 377 r \$3.peer.ready;
#X obj 9 403 f;
#X obj 9 425 sel 1;
#X msg 111 425 1;
#X obj 111 444 s \$3.udp.link.status;
#X obj 396 148 r \$3.udp.link.status;
#X obj 398 196 r \$3.peer.ready;
#X obj 371 148 f;
#X obj 371 171 sel 0 4;
#X obj 371 196 f;
#X obj 371 218 sel 1;
#X obj 371 261 s \$3.udp.link.status;
#X msg 371 240 2;
#X obj 295 323 r \$3.tx.switch.s;
#X obj 320 346 r \$3.udp.link.status;
#X obj 322 394 r \$3.peer.ready;
#X obj 295 346 f;
#X obj 295 394 f;
#X obj 295 416 sel 1;
#X obj 295 369 sel 2;
#X obj 10 132 t b a;
#X obj 35 183 r \$3.udp.link.status;
#X obj 37 231 r \$3.peer.ready;
#X obj 10 183 f;
#X obj 10 231 f;
#X obj 10 253 sel 1;
#X obj 10 206 sel 1;
#X obj 10 317 s \$3.udp.link.status;
#X msg 10 295 3;
#X msg 295 484 3;
#X obj 295 516 s \$3.udp.link.status;
#X obj 295 463 del 0;
#X obj 9 447 t b b b;
#X obj 49 486 t b b;
#X obj 111 403 del 0;
#X obj 9 350 r \$3.initiate.stun;
#X obj 10 274 t b b;
#X obj 144 301 s \$3.to.jacktrip;
#X obj 295 437 t b b b;
#X msg 144 278 disabletoken;
#X obj 204 208 r \$3.peer.ip;
#X obj 144 214 t b b;
#X obj 171 237 symbol;
#X obj 171 258 s \$3.peer.host;
#X text 611 38 0 = reset;
#X text 612 116 4 = aborted;
#X text 611 58 1 = waiting for peer (stun);
#X text 611 78 2 = waiting for user (stun);
#X text 613 99 3 = connected (stun);
#X text 612 137 5 = waiting for peer (server);
#X text 613 156 6 = waiting for user (server);
#X text 613 177 7 = connected (server);
#X obj 236 553 s \$3.set.random.bind.port;
#X obj 261 594 r \$3.set.random.bind.port;
#X obj 64 509 r \$3.peer.id;
#X obj 94 529 r \$1.id;
#X obj 147 20 r \$3.peer.id;
#X connect 0 0 20 0;
#X connect 1 0 2 0;
#X connect 2 0 43 0;
#X connect 3 0 2 0;
#X connect 3 0 6 0;
#X connect 5 0 21 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 18 1;
#X connect 14 0 17 0;
#X connect 15 0 14 1;
#X connect 16 0 30 0;
#X connect 17 0 8 0;
#X connect 18 0 19 0;
#X connect 19 0 8 0;
#X connect 20 0 1 0;
#X connect 21 0 7 0;
#X connect 22 0 11 0;
#X connect 23 0 24 1;
#X connect 24 0 25 0;
#X connect 25 0 55 0;
#X connect 26 0 27 0;
#X connect 28 0 30 1;
#X connect 29 0 32 1;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 32 0;
#X connect 32 0 33 0;
#X connect 33 0 35 0;
#X connect 35 0 34 0;
#X connect 36 0 39 0;
#X connect 37 0 39 1;
#X connect 38 0 40 1;
#X connect 39 0 42 0;
#X connect 40 0 41 0;
#X connect 41 0 61 0;
#X connect 42 0 40 0;
#X connect 43 0 46 0;
#X connect 43 1 4 0;
#X connect 44 0 46 1;
#X connect 45 0 47 1;
#X connect 46 0 49 0;
#X connect 47 0 48 0;
#X connect 48 0 59 0;
#X connect 49 0 47 0;
#X connect 51 0 50 0;
#X connect 52 0 53 0;
#X connect 54 0 52 0;
#X connect 55 0 18 0;
#X connect 55 1 56 0;
#X connect 55 2 57 0;
#X connect 56 0 9 0;
#X connect 56 1 75 0;
#X connect 57 0 26 0;
#X connect 58 0 24 0;
#X connect 59 0 51 0;
#X connect 59 1 64 0;
#X connect 61 0 54 0;
#X connect 61 1 56 0;
#X connect 61 2 64 0;
#X connect 62 0 60 0;
#X connect 63 0 65 1;
#X connect 64 0 62 0;
#X connect 64 1 65 0;
#X connect 65 0 66 0;
#X connect 76 0 11 0;
#X connect 77 0 9 1;
#X connect 78 0 10 1;
#X connect 79 0 3 0;
#X restore 13 60 pd init.stun.connection;
